{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Guialvesds/Desktop/Projetos/orion/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/product.service\";\nimport * as i3 from \"src/app/services/alert.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction EditProductComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Editando \", ctx_r0.productData.name, \"\");\n  }\n}\n\nexport class EditProductComponent {\n  constructor(router, productServices, route, alert) {\n    this.router = router;\n    this.productServices = productServices;\n    this.route = route;\n    this.alert = alert;\n    this.btnText = 'Editar';\n    this.title = 'Editar produto';\n  }\n\n  ngOnInit() {\n    const id = String(this.route.snapshot.paramMap.get('id'));\n    this.productServices.getP(id).subscribe(item => {\n      this.productData = item.data;\n      console.log(this.productData);\n    });\n  }\n\n  editP(productData) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const id = _this.productData._id;\n      const dados = {\n        code: productData.code,\n        name: productData.name,\n        price: productData.price,\n        inventory: productData.inventory\n      };\n      yield _this.productServices.editProduct(id, dados).subscribe();\n\n      _this.alert.add(`produto ${_this.productData.code} alterado com sucesso!`);\n    })();\n  }\n\n}\n\nEditProductComponent.ɵfac = function EditProductComponent_Factory(t) {\n  return new (t || EditProductComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AlertService));\n};\n\nEditProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditProductComponent,\n  selectors: [[\"app-edit-product\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"]],\n  template: function EditProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, EditProductComponent_div_0_Template, 3, 1, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.productData);\n    }\n  },\n  dependencies: [i4.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZGl0LXByb2R1Y3QuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAAAA,4BAAyB,CAAzB,EAAyB,IAAzB;IACQA;IAA6BA;;;;;IAA7BA;IAAAA;;;;ACYR,OAAM,MAAOC,oBAAP,CAA2B;EAK/BC,YACUC,MADV,EAEUC,eAFV,EAGUC,KAHV,EAIUC,KAJV,EAI6B;IAHnB;IACA;IACA;IACA;IAPV,eAAU,QAAV;IACA,aAAQ,gBAAR;EAOI;;EAEJC,QAAQ;IACN,MAAMC,EAAE,GAAGC,MAAM,CAAC,KAAKJ,KAAL,CAAWK,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAD,CAAjB;IAEA,KAAKR,eAAL,CAAqBS,IAArB,CAA0BL,EAA1B,EAA8BM,SAA9B,CAAyCC,IAAD,IAAS;MAC/C,KAAKC,WAAL,GAAmBD,IAAI,CAACE,IAAxB;MAEAC,OAAO,CAACC,GAAR,CAAY,KAAKH,WAAjB;IACD,CAJD;EAKD;;EAEKI,KAAK,CAACJ,WAAD,EAAqB;IAAA;;IAAA;MAC9B,MAAMR,EAAE,GAAG,KAAI,CAACQ,WAAL,CAAiBK,GAA5B;MAEA,MAAMC,KAAK,GAAG;QACZC,IAAI,EAAEP,WAAW,CAACO,IADN;QAEZC,IAAI,EAAER,WAAW,CAACQ,IAFN;QAGZC,KAAK,EAAET,WAAW,CAACS,KAHP;QAIZC,SAAS,EAAEV,WAAW,CAACU;MAJX,CAAd;MAOA,MAAM,KAAI,CAACtB,eAAL,CAAqBuB,WAArB,CAAiCnB,EAAjC,EAAsCc,KAAtC,EAA6CR,SAA7C,EAAN;;MAEA,KAAI,CAACR,KAAL,CAAWsB,GAAX,CAAe,WAAW,KAAI,CAACZ,WAAL,CAAiBO,IAAI,wBAA/C;IAZ8B;EAa/B;;AAnC8B;;;mBAApBtB,sBAAoBD;AAAA;;;QAApBC;EAAoB4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDbjCjC;;;;MAAMA","names":["i0","EditProductComponent","constructor","router","productServices","route","alert","ngOnInit","id","String","snapshot","paramMap","get","getP","subscribe","item","productData","data","console","log","editP","_id","dados","code","name","price","inventory","editProduct","add","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Guialvesds\\Desktop\\Projetos\\orion\\src\\app\\pages\\edit-product\\edit-product.component.html","C:\\Users\\Guialvesds\\Desktop\\Projetos\\orion\\src\\app\\pages\\edit-product\\edit-product.component.ts"],"sourcesContent":["<div *ngIf=\"productData\">\n    <h2>Editando {{productData.name}}</h2>\n\n</div>\n\n    \n\n","import { Component, OnInit } from '@angular/core';\n\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Product } from 'src/app/model/Product';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { ProductService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-edit-product',\n  templateUrl: './edit-product.component.html',\n  styleUrls: ['./edit-product.component.css'],\n})\nexport class EditProductComponent implements OnInit {\n  productData!: Product;\n  btnText = 'Editar';\n  title = 'Editar produto';\n\n  constructor(\n    private router: Router,\n    private productServices: ProductService,\n    private route: ActivatedRoute,\n    private alert: AlertService\n  ) {}\n\n  ngOnInit(): void {\n    const id = String(this.route.snapshot.paramMap.get('id'));\n\n    this.productServices.getP(id).subscribe((item) => {\n      this.productData = item.data;\n\n      console.log(this.productData);\n    });\n  }\n\n  async editP(productData: Product) {\n    const id = this.productData._id;\n\n    const dados = {\n      code: productData.code,\n      name: productData.name,\n      price: productData.price,\n      inventory: productData.inventory,\n    };\n\n    await this.productServices.editProduct(id!, dados).subscribe();\n\n    this.alert.add(`produto ${this.productData.code} alterado com sucesso!`);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}