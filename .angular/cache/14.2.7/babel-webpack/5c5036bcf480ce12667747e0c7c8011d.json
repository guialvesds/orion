{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Guialvesds/Desktop/Projetos/orion/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/product.service\";\nimport * as i3 from \"src/app/services/alert.service\";\nimport * as i4 from \"../../components/product-form/product-form.component\";\nexport class EditProductComponent {\n  constructor(router, productServices, route, alert) {\n    this.router = router;\n    this.productServices = productServices;\n    this.route = route;\n    this.alert = alert;\n    this.btnText = 'Editar';\n    this.title = 'Editar produto';\n  }\n\n  ngOnInit() {\n    const id = String(this.route.snapshot.paramMap.get('id'));\n    this.productServices.getP(id).subscribe(item => {\n      this.productData = item.data;\n      console.log(this.productData);\n    });\n    const codP = this.productData.code;\n    console.log(\"Editando o produto\", codP);\n  }\n\n  editP(productData) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const id = _this.productData._id; // const dados = new FormData();\n      // dados.append('code', productData.code);\n      // dados.append('name', productData.name);\n      // dados.append('price', productData.price);\n      // dados.append('inventory', productData.inventory);\n\n      const dados = {\n        code: productData.code,\n        name: productData.name,\n        price: productData.price,\n        inventory: productData.inventory\n      };\n      yield _this.productServices.editProduct(id, dados).subscribe();\n\n      _this.alert.add(`produto ${_this.productData.code} alterado com sucesso!`);\n    })();\n  }\n\n}\n\nEditProductComponent.ɵfac = function EditProductComponent_Factory(t) {\n  return new (t || EditProductComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AlertService));\n};\n\nEditProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditProductComponent,\n  selectors: [[\"app-edit-product\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"titleForm\"], [3, \"productData\", \"btnText\", \"title\", \"onsubmit\"]],\n  template: function EditProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"app-product-form\", 2);\n      i0.ɵɵlistener(\"onsubmit\", function EditProductComponent_Template_app_product_form_onsubmit_2_listener($event) {\n        return ctx.editP($event);\n      });\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"productData\", ctx.productData)(\"btnText\", ctx.btnText)(\"title\", ctx.title);\n    }\n  },\n  dependencies: [i4.ProductFormComponent],\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.titleForm[_ngcontent-%COMP%] {\\r\\n    background-color: white;\\r\\n    width: 40%;\\r\\n    height: 5%;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    margin-top: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtcHJvZHVjdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLFVBQVU7SUFDVixVQUFVO0lBQ1YsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCIiwiZmlsZSI6ImVkaXQtcHJvZHVjdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4udGl0bGVGb3JtIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgd2lkdGg6IDQwJTtcclxuICAgIGhlaWdodDogNSU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;AAaA,OAAM,MAAOA,oBAAP,CAA2B;EAK/BC,YACUC,MADV,EAEUC,eAFV,EAGUC,KAHV,EAIUC,KAJV,EAI6B;IAHnB;IACA;IACA;IACA;IAPV,eAAU,QAAV;IACA,aAAQ,gBAAR;EAOI;;EAEJC,QAAQ;IACN,MAAMC,EAAE,GAAGC,MAAM,CAAC,KAAKJ,KAAL,CAAWK,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAD,CAAjB;IAEA,KAAKR,eAAL,CAAqBS,IAArB,CAA0BL,EAA1B,EAA8BM,SAA9B,CAAyCC,IAAD,IAAS;MAC/C,KAAKC,WAAL,GAAmBD,IAAI,CAACE,IAAxB;MAEAC,OAAO,CAACC,GAAR,CAAY,KAAKH,WAAjB;IACD,CAJD;IAMA,MAAMI,IAAI,GAAG,KAAKJ,WAAL,CAAiBK,IAA9B;IAEAH,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCC,IAAlC;EAED;;EAEKE,KAAK,CAACN,WAAD,EAAqB;IAAA;;IAAA;MAE9B,MAAMR,EAAE,GAAG,KAAI,CAACQ,WAAL,CAAiBO,GAA5B,CAF8B,CAI9B;MAEA;MACA;MACA;MACA;;MAEA,MAAMC,KAAK,GAAG;QACZH,IAAI,EAAEL,WAAW,CAACK,IADN;QAEZI,IAAI,EAAET,WAAW,CAACS,IAFN;QAGZC,KAAK,EAAEV,WAAW,CAACU,KAHP;QAIZC,SAAS,EAAEX,WAAW,CAACW;MAJX,CAAd;MAOA,MAAM,KAAI,CAACvB,eAAL,CAAqBwB,WAArB,CAAiCpB,EAAjC,EAAsCgB,KAAtC,EAA6CV,SAA7C,EAAN;;MAEA,KAAI,CAACR,KAAL,CAAWuB,GAAX,CAAe,WAAW,KAAI,CAACb,WAAL,CAAiBK,IAAI,wBAA/C;IApB8B;EAqB/B;;AAhD8B;;;mBAApBpB,sBAAoB6B;AAAA;;;QAApB7B;EAAoB8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCbjCL;MACAA;MAGIA;MACAA;QAAA,OAAYM,iBAAZ;MAAyB,CAAzB;MAIAN;;;;MAHAA;MAAAA,8CAA2B,SAA3B,EAA2BM,WAA3B,EAA2B,OAA3B,EAA2BA,SAA3B","names":["EditProductComponent","constructor","router","productServices","route","alert","ngOnInit","id","String","snapshot","paramMap","get","getP","subscribe","item","productData","data","console","log","codP","code","editP","_id","dados","name","price","inventory","editProduct","add","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Guialvesds\\Desktop\\Projetos\\orion\\src\\app\\pages\\edit-product\\edit-product.component.ts","C:\\Users\\Guialvesds\\Desktop\\Projetos\\orion\\src\\app\\pages\\edit-product\\edit-product.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Product } from 'src/app/model/Product';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { ProductService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-edit-product',\n  templateUrl: './edit-product.component.html',\n  styleUrls: ['./edit-product.component.css'],\n})\nexport class EditProductComponent implements OnInit {\n  productData!: Product;\n  btnText = 'Editar';\n  title = 'Editar produto';\n\n  constructor(\n    private router: Router,\n    private productServices: ProductService,\n    private route: ActivatedRoute,\n    private alert: AlertService\n  ) {}\n\n  ngOnInit(): void {\n    const id = String(this.route.snapshot.paramMap.get('id'));\n\n    this.productServices.getP(id).subscribe((item) => {\n      this.productData = item.data;\n\n      console.log(this.productData);\n    });\n\n    const codP = this.productData.code;\n\n    console.log(\"Editando o produto\", codP);\n    \n  }\n\n  async editP(productData: Product) {\n\n    const id = this.productData._id;\n\n    // const dados = new FormData();\n\n    // dados.append('code', productData.code);\n    // dados.append('name', productData.name);\n    // dados.append('price', productData.price);\n    // dados.append('inventory', productData.inventory);\n\n    const dados = {\n      code: productData.code,\n      name: productData.name,\n      price: productData.price,\n      inventory: productData.inventory,\n    };\n\n    await this.productServices.editProduct(id!, dados).subscribe();\n\n    this.alert.add(`produto ${this.productData.code} alterado com sucesso!`);\n  }\n}\n","<div class=\"container\">\n<div class=\"titleForm\">\n    <!-- <h3>Editando o produto, {{productData.code}}</h3> -->\n</div>\n    <app-product-form \n    (onsubmit)=\"editP($event)\" \n    [productData]=\"productData\" \n    [btnText]=\"btnText\" \n    [title]=\"title\">\n    </app-product-form>\n\n</div>\n \n    \n\n"]},"metadata":{},"sourceType":"module"}